import{c as e,d as W}from"./utils-eYysDWPT.js";const b=document.body,k=["Sugar","Cinnamon","Syrup"];let y,q,g;function j(t,c){g=e({parent:b,classNames:["modal"]});const n=e({classNames:["modal__overlay"],parent:g}),a=e({classNames:["modal__container"],parent:g}),u=e({classNames:["modal__image-wrap"],parent:a}),r=e({classNames:["modal__content"],parent:a}),_=e({tag:"img",classNames:["modal__img"],parent:u});_.src=c;const d=e({classNames:["modal__descr"],parent:r});e({tag:"h4",text:t.name,classNames:["modal__title"],parent:d}),e({tag:"p",text:t.description,classNames:["modal__text"],parent:d});const i=e({tag:"form",classNames:["modal__form"],parent:r}),m=e({classNames:["modal__size"],parent:i});e({tag:"p",text:"Size",classNames:["size-title"],parent:m});const h=e({classNames:["modal__input-wrapper"],parent:m});y=["s","m","l"].map((l,o)=>{const s=e({tag:"input",classNames:["input"],parent:h});return s.name="size",s.id=l,s.setAttribute("type","radio"),s.setAttribute("value",o*.5),s}),y[0].checked=!0,["s","m","l"].map((l,o)=>{const s=e({tag:"label",classNames:["modal__label","label"],parent:h});return s.setAttribute("for",l),e({tag:"span",text:`${l.toUpperCase()}`,classNames:["label-circle"],parent:s}),e({tag:"span",text:`${100+100*(o+1)} ml`,classNames:["label-text"],parent:s}),s});const $=e({classNames:["modal__additives"],parent:i});e({tag:"p",text:"Additives",classNames:["additives-title"],parent:$});const w=e({classNames:["modal__input-wrapper"],parent:$});q=k.map(l=>{const o=e({tag:"input",classNames:["input"],parent:w});return o.name="additives",o.id=l,o.setAttribute("type","checkbox"),o.setAttribute("value","0.5"),o}),k.map((l,o)=>{const s=e({tag:"label",classNames:["modal__label","label"],parent:w});return s.setAttribute("for",l),e({tag:"span",text:o+1,classNames:["label-circle"],parent:s}),e({tag:"span",text:l,classNames:["label-text"],parent:s}),s});const S=e({classNames:["modal__price"],parent:r});e({tag:"h4",text:"Total:",classNames:["price-title"],parent:S});const T=e({tag:"h4",text:`$${t.price}`,classNames:["total-price"],parent:S});e({tag:"p",text:"The cost is not final. Download our mobile app to see the final price and place your order. Earn loyalty points and enjoy your favorite coffee with up to 20% discount.",classNames:["modal__info"],parent:r});const B=e({tag:"button",text:"Close",classNames:["modal__btn"],parent:r});b.classList.add("scroll-hidden"),i.addEventListener("change",()=>{T.textContent=`$${I(t.price).toFixed(2)}`}),B.addEventListener("click",()=>{z()}),n.addEventListener("click",l=>{z()})}function z(){b.classList.remove("scroll-hidden"),g.classList.add("fade-out"),setTimeout(()=>{g.remove()},200)}function I(t){const c=[...y,...q].reduce((n,a)=>n+(a.checked?+a.value:0),0);return+t+c}const A=document.body,D=document.querySelector(".burger-btn"),N=document.querySelector(".header"),F=document.querySelector(".nav__list"),M=document.querySelector(".header__box"),x=document.querySelector(".menu__list"),H=document.querySelector(".menu__tabs"),v=document.querySelector(".load-more");let P="coffee",L=[],f=4,p=[];D.addEventListener("click",()=>{A.classList.add("scroll-hidden"),N.classList.toggle("open"),M.classList.toggle("open")});F.addEventListener("click",()=>{N.classList.contains("open")&&(N.classList.remove("open"),M.classList.remove("open"),A.classList.remove("scroll-hidden"))});async function U(){try{L=await(await fetch("/src/assets/data/products.json")).json(),C(L)}catch(t){console.log("Ошибка при загрузке данных: "+t)}}function V(t){return window.innerWidth<1089?Math.min(4,t.length):t.length}function C(t){const c=[...x.children];p=t.filter(n=>n.category===P),f=V(p),c.length>0?(c.forEach((n,a)=>{n.classList.remove("fade-in"),n.classList.add("fade-out"),n.style.animationDelay=`${a*.04}s`}),setTimeout(()=>{E(p.slice(0,f))},c.length*30+300)):E(p.slice(0,f)),G(p)}function G(t){f<=4&&t.length>4?v.classList.remove("hidden"):v.classList.add("hidden")}function E(t){x.innerHTML="",t.forEach((c,n)=>{const a=J(c,n,x);a.style.animationDelay=`${n*.01}s`})}function J(t,c,n){const a=document.createElement("li");a.classList.add("product-card","fade-in"),n.appendChild(a);const u=document.createElement("div");u.classList.add("product__img-wrapper");const r=document.createElement("img");r.src=`/src/assets/img/${t.category}-${c+1}.jpg`,r.alt=t.name,r.classList.add("product__img"),u.append(r);const _=document.createElement("div");_.classList.add("product__content");const d=document.createElement("h4");d.classList.add("product__title"),d.textContent=`${t.name}`;const i=document.createElement("p");i.classList.add("product__descr"),i.textContent=`${t.description}`;const m=document.createElement("h4");return m.classList.add("product__price"),m.textContent=`$${t.price}`,_.append(d,i,m),a.append(u,_),a.addEventListener("click",()=>{const h=a.firstElementChild.firstElementChild.src;j(t,h)}),a}H.addEventListener("change",t=>{P=t.target.value,C(L)});v.addEventListener("click",()=>{E(p),v.classList.add("hidden")});window.addEventListener("resize",W(()=>{C(L)},200));U();
